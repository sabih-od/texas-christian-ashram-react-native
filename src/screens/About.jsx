import React, { useEffect, useRef, useState } from "react";
import { SafeAreaView, ScrollView, View, Text, FlatList, ImageBackground, StyleSheet, Image } from "react-native";
import { colors, fonts, height, isIPad, width } from "../theme";
import { TouchableOpacity } from "react-native-gesture-handler";

import Icon from 'react-native-vector-icons/Feather';
import about from "../data/about";
import { AboutApiCall } from "../redux/reducers/ListingApiStateReducer";
import { connect } from "react-redux";
import { bindActionCreators } from "redux";
import RenderHTML from "../components/RenderHTML";

const testbody = '<section class="inner-about-section innerPage"><div class="container"><h1 class="">Welcome to the Texas Christian Ashram</h1><div class="row align-items-center mx-5 text-center"><div class="col-12"><figure class="margin-top"><img alt="missionImg 2" loading="lazy" width="624" height="446" decoding="async" data-nimg="1" class="img-fluid" src="https://texaschristianashram.org/_next/static/media/missionimg2.de5de331.jpg" style="color: transparent;"></figure><div class="py-4 pr-5"><h2 class=" heading text-secondary">What is the Texas Christian Ashram</h2><p class="text">It is a family Christian experience (like youth camp, but for the whole family) held in a retreat setting for the sole purpose of providing a Christian atmosphere for the whole family. Whether you are an infant or a young adult or a wiser young adult, a full day\’s schedule is planned for all ages that is full of fun, fellowship, and Jesus. The camp is currently hosted at Scottsville Camp and Conference Center in Marshall, TX. Link:<a target="_blank" class="text-dark" href="https://www.scottsvillecamp.com">https://www.scottsvillecamp.com</a></p></div></div></div></div></section> <section class="about-section"><div class="container"><div class="row"><div class="col-md-12 aos-init aos-animate" data-aos="fade-up"><div class="videoBox"><img alt="[object Object]" loading="lazy" width="558" height="559" decoding="async" data-nimg="1" src="https://texaschristianashram.org/_next/static/media/imgpsh_fullsize_anim.baefca87.png" style="color: transparent;"><a href="https://vimeo.com/95424842" data-fancybox="" class="btn"><i class="far fa-play"></i></a></div><div class="my-5"><h6 class="subheading text-primary">Welcome to the</h6><h1 class="heading">Texas Christian Ashram</h1><p> For more than 80 years, individuals and families have attended Christian Ashram retreats all around the world. The purpose of the retreat is to focus on JESUS, find rest and recreation, listen to encouraging teaching, and find meaningful friendships.</p><p>We recognize that each person is at a different place in life. One thing we have in common, is that life is tough sometimes. Sometimes we just need to unplug from all of life’s stressors and proactively focus on Jesus to recharge.</p><p>Our sole purpose is to be another tool in God’s tool box that he can use to help strengthen the body of Christ and us as Christ Followers.</p></div></div></div></div></section> <section class="innerPage"><div class="container"><div class="row align-items-center justify-content-center mx-5 mb-5"><div class="col-md-7 aos-init aos-animate" data-aos="fade-up"><h6 class="subheading text-secondary">Texas Christian Ashram</h6><h1 class="heading">We Serve the Entire Family</h1><p>At the Texas Christian Ashram, there is a group for everyone in your family!</p></div><div class="col-md-1 text-center aos-init aos-animate" data-aos="fade-bottom"><a class="newthemeBtn" href="https://texaschristianashram.org/events">Events</a><a href="#" download=""></a></div></div></div></section> <section class="p-0"><div class="container"><div class="row mx-4 align-items-end"><div class="col-md-6" id="family"><img alt="familiesIm g" loading="lazy" width="1200" height="630" decoding="async" data-nimg="1" class="img-fluid" src="https://texaschristianashram.org/_next/static/media/familiesimg.a7539958.webp" style="color: transparent;"></div><div class="col-md-6 px-5"><h1 class="heading">Family Activities</h1><p class="text">The Ashram is unique because it is a family camp. People come to experience the love and acceptance they may not feel in the world. Perfect? No, we are just people. But we are people who love God and seek to be more like Him. And, we love each other. We have many opportunities to be with our own family as well as the big Ashram family. </p></div><div class="col-md-11 mx-auto mt-5 font_7"><p>We eat together (it seems we’re always eating!), sing together, work together, and pray together. It is a time for families to enjoy each other and longtime friends to catch up. It is a time to cry and laugh, to share and encourage, to be quiet and listen, and to grow and increase our faith and walk with God. </p><p>The Prayer Vigil is open 24 hours during the entire week. It is a special place and provides the foundation for God to work on behalf of His people. It is open to everyone. </p><p>The work hour goes on all day! All ages help with the sewing and embroidering of blankets and bibs, picking up trash, and singing in the choir or providing special music. Special projects are provided as well.</p><p>And we couldn’t do without the volunteers that make things happen! We encourage every adult over the age of 18 to volunteer one hour with one of the children or youth programs. Sowing that one hour will bless those you help out and it will bless you even more.</p><p>Oh, and don’t forget ice cream time! </p><p>Come and experience the renewal and refreshing that a few short days will bring to your heart.</p></div><div class="col-12"><hr></div><div class="col-md-6" id="adult"><img alt="famIm g" loading="lazy" width="1200" height="630" decoding="async" data-nimg="1" class="img-fluid" src="https://texaschristianashram.org/_next/static/media/fam.6ed892ed.png" style="color: transparent;"></div><div class="col-md-6 px-5"><h1 class="heading">Adult Activities</h1><p class="text">While the children and youth are enjoying their age-specific activities, adults have many opportunities to grow in their faith and in fellowship with others. New speakers are selected each year to provide preaching and teaching that will inspire and encourage us to be more like Jesus and more loving towards each other.</p></div><div class="col-md-11 mx-auto mt-5 font_7"><p>The mornings include sessions with the Bible teacher and the Evangelist while also having an opportunity to participate in discussion groups. Prayer groups convene in the afternoon. These small groups are special times for many since relationships are built as hearts open up to share needs. The evenings are filled with music, testimonies, and more of the Word of God. </p><p>Many people describe the whole Ashram experience as truly experiencing the Kingdom of God here on earth. Come and experience it for yourself!</p></div><div class="col-12"><hr></div><div class="col-md-6" id="youth"><img alt="famImg 2" loading="lazy" width="1200" height="630" decoding="async" data-nimg="1" class="img-fluid" src="https://texaschristianashram.org/_next/static/media/fam2.bb0503f6.png" style="color: transparent;"></div><div class="col-md-6 px-5"><h1 class="heading">Youth Activities</h1><p class="text">The youth, middle school through high school, have their own leaders to guide them through the week. They will spend some of their time listening to the Bible teacher and/or Evangelist and some of the evening time enjoying the family singing. </p></div><div class="col-md-11 mx-auto mt-5 font_7"><p>During their special times together they will hear how to follow Jesus in a peer pressured world. Kingdom principles are presented and opportunities for responding to the Word are given through the discussion and prayer groups, afternoon games and fun, and evening sessions. </p><p>High school-aged kids have their own “Gazebo” time after hours that allow them to open their hearts, worship Jesus, and pray together. This program produces life changing experiences and great memories of friends growing up together.</p></div><div class="col-12"><hr></div><div class="col-md-6 pt-3" id="children"><img alt="famImg 3" loading="lazy" width="1200" height="630" decoding="async" data-nimg="1" class="img-fluid" src="https://texaschristianashram.org/_next/static/media/fam3.2adada3f.png" style="color: transparent; height: 408px;"></div><div class="col-md-6 px-5 pt-3"><h1 class="heading">Children\'s  Activities</h1><p class="mb-0 text">Children of all ages are welcomed into the age appropriate programs with teachers and volunteers that seek to share the love of Jesus. As a family camp, we have infant and toddler, pre-school, and elementary programs. We want to come alongside parents and guardians to support their efforts in introducing their children to Jesus and His Kingdom. And to make sure they are well-cared for during the week!</p></div><div class="col-md-11 mx-auto mt-5 font_7"><p>Our focus in all programs is the life we can experience as part of the Kingdom of God through his son, Jesus Christ. Plenty of practice is provided as children learn how to experience the love of God and how to love God through Biblical studies, worship, arts, music, and recreation. </p></div><div class="col-12"><hr></div><div class="col-md-6" id="children"><img alt="shape3" loading="lazy" width="612" height="408" decoding="async" data-nimg="1" class="img-fluid" src="https://texaschristianashram.org/_next/static/media/young adult.0d820732.jpg" style="color: transparent;"></div><div class="col-md-6 px-5" id="young"><h1 class="heading">Young Adults Activities</h1><p class="mb-0 text">The youth, middle school through high school, have their own leaders to guide them through the week. They will spend some of their time listening to the Bible teacher and/or Evangelist and some of the evening time enjoying the family singing.Our focus in all programs is the life we can experience as part of the Kingdom of God through his son, Jesus Christ. Plenty of practice is provided as children learn how to experience the love of God and how to love God through Biblical studies, worship, arts, music, and recreation.</p></div><div class="col-md-11 mx-auto mt-5 font_7"><p>Our focus in all programs is the life we can experience as part of the Kingdom of God through his son, Jesus Christ. Plenty of practice is provided as children learn how to experience the love of God and how to love God through Biblical studies, worship, arts, music, and recreation. </p><br><p>Activities are provided during the mornings, afternoon prayer group time, and evening sessions. We all enjoy singing and sharing together in the evening before children are dismissed for their evening activities. Parents and guardians are encouraged to spend time with their children during family times to talk about what they are learning throughout the day. </p><p>Safe sanctuary guidelines are practiced so parents and guardians can be assured their children are safe and secure during scheduled className times. Since the campgrounds are deep and wide, parents and guardians are responsible to supervise their children to ensure everyone’s safety at all other times.</p><p>Many adults that continue to come back year after year remember the fun and fellowship they experienced here as children in this program.</p></div></div><div class="col-12"></div></div></section>'

const About = (props) => {

    const [body, setBody] = useState({});
    const prevAboutResponseResponseRef = useRef(props.aboutResponse);

    useEffect(() => {
        props.AboutApiCall();
    }, []);

    useEffect(() => {
        if (props.aboutResponse !== prevAboutResponseResponseRef.current && props.aboutResponse?.success && props.aboutResponse?.data) {
            prevAboutResponseResponseRef.current = props.aboutResponse;
            console.log('props.aboutResponse => ', JSON.parse(props.aboutResponse?.data?.content))
            setBody(JSON.parse(props.aboutResponse.data.content))
        }
    }, [props.aboutResponse])

    console.log('about => ', about);
    return <SafeAreaView style={{ flex: 1 }}>
        <ScrollView>
            <RenderHTML htmlcontent={testbody} htmlstyle={`h6{color:${colors.orange};font-size:14px;}img{margin:5px 0;border-radius:15px;}body{background-color: #f7f7f7}`} />
            {/* {Object.values(body).map((item, index) => {
                console.log('item => ', item);
                if (item.key == 'h1') return <Text key={index} style={[styles.heading, { fontSize: isIPad ? 28 : 23 }]}>{item.value}</Text>;
                else if (item.key == 'image') return <Image key={index} source={{ uri: item.value }} style={styles.image} />;
                else if (item.key == 'h2') return <Text key={index} style={styles.heading}>{item.value}</Text>;
                else if (item.key == 'p') return <Text key={index} style={styles.paragraph}>{item.value}</Text>;
                else if (item.key == 'strong') return <Text key={index} style={styles.strong}>{item.value}</Text>;
            })} */}
            {/* <Text style={[styles.heading, {fontSize: 23}]}>What We Believe</Text>
            <Image source={require('./../../assets/images/about-image-01.jpg')} style={styles.image} />
            <Text style={styles.paragraph}>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</Text>
            <Text style={styles.heading}>Our Mission</Text>
            <Text style={styles.paragraph}>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</Text>
            <Text style={styles.paragraph}>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</Text>
            <Text style={styles.paragraph}>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</Text>
            <Text style={styles.paragraph}>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</Text>
            <Text style={styles.paragraph}>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</Text>
            <Text style={styles.paragraph}>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</Text>
            <Text style={styles.paragraph}>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</Text>
            <Text style={styles.paragraph}>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</Text>
            <Image source={require('./../../assets/images/about-image-02.jpg')} style={styles.image} />
            <Text style={styles.heading}>What is Cristian Ashram?</Text>
            <Text style={styles.paragraph}>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.</Text>
            <View style={{ height: 20 }} /> */}
            {/* <View style={{ height: 40, width: 100 }} /> */}
        </ScrollView>
    </SafeAreaView>
}

const setStateToProps = (state) => ({
    aboutResponse: state.listingstate.aboutResponse
})

const mapDispatchToProps = (dispatch) => {
    return {
        AboutApiCall: bindActionCreators(AboutApiCall, dispatch)
    }
}

export default connect(setStateToProps, mapDispatchToProps)(About);


const styles = StyleSheet.create({
    heading: { fontSize: isIPad ? 26 : 20, fontFamily: fonts.headingFont, color: colors.black, marginBottom: 10 },
    paragraph: { fontSize: isIPad ? 17 : 14, marginBottom: 0, fontFamily: fonts.latoRegular, color: colors.grey },
    strong: { fontSize: isIPad ? 17 : 14, marginBottom: 5, fontFamily: fonts.latoBold, color: colors.black },
    parabold: { fontSize: 14, fontFamily: fonts.latoBold, color: colors.black },
    image: { width: width - 30, height: width / 2, resizeMode: 'cover', borderRadius: 10, marginBottom: 20 },

})